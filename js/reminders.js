// è²¼å¿ƒæé†’å°èªžç³»çµ± - å¸¶æœ‰emojiç‰ˆæœ¬
const REMINDERS = {
  // é€šç”¨æé†’ï¼ˆæ ¹æ“šæ™‚é–“æ®µï¼‰
  timeBasedReminders: {
    morning: [
      "ðŸŒ… æ—©å®‰ï¼æ–°çš„ä¸€å¤©ï¼Œæ–°çš„å†’éšªç­‰è‘—ä½ å€‘",
      "â˜€ï¸ ä»Šå¤©ä¹Ÿè¦ç‰½è‘—å½¼æ­¤çš„æ‰‹ï¼Œä¸€èµ·æŽ¢ç´¢",
      "ðŸ¥ è¨˜å¾—åƒæ—©é¤ï¼Œæ‰æœ‰é«”åŠ›å‰µé€ ç¾Žå¥½å›žæ†¶",
      "ðŸ’‘ çœé–‹çœ¼ç›ï¼Œçœ‹åˆ°ä½ å°±æ˜¯æœ€ç¾Žçš„é¢¨æ™¯",
      "ðŸŒ¸ ç¾Žå¥½çš„ä¸€å¤©å¾žä¸€å€‹æ—©å®‰å»é–‹å§‹"
    ],
    noon: [
      "ðŸ åˆé¤æ™‚é–“åˆ°äº†ï¼Œæ‰¾é–“å°åº—åä¸‹ä¾†äº«å—å§",
      "ðŸ· ç¾©å¤§åˆ©äººèªªï¼šå¥½çš„é£Ÿç‰©è¦é…å¥½çš„é™ªä¼´",
      "ðŸ˜Œ ç´¯äº†å°±ä¼‘æ¯ï¼Œæ—…è¡Œä¸è¶•æ™‚é–“",
      "ðŸ¥— åˆ¥å¿˜äº†è£œå……æ°´åˆ†å’Œèƒ½é‡å–”",
      "â˜• ä¾†æ¯å’–å•¡ï¼Œäº«å—æ‚ é–’çš„åˆå¾Œæ™‚å…‰"
    ],
    afternoon: [
      "ðŸ° ä¸‹åˆèŒ¶æ™‚é–“ï¼Œä¾†æ¯å’–å•¡é…ç”œé»žï¼Ÿ",
      "ðŸ“¸ æ‹ç…§ä¹‹é¤˜ï¼Œåˆ¥å¿˜äº†ç”¨å¿ƒæ„Ÿå—é€™ä¸€åˆ»",
      "ðŸ’• æœ€ç¾Žçš„é¢¨æ™¯æ˜¯èº«é‚Šæœ‰ä½ ",
      "ðŸŽ¨ æ¯å€‹è½‰è§’éƒ½å¯èƒ½é‡è¦‹é©šå–œ",
      "ðŸŒ¤ï¸ é™½å…‰æ­£å¥½ï¼Œå¿ƒæƒ…æ­£ç¾Ž"
    ],
    evening: [
      "ðŸŒ… å¤•é™½è¥¿ä¸‹ï¼Œæ‰¾å€‹å¥½è§’åº¦ä¸€èµ·çœ‹æ—¥è½",
      "ðŸŒ™ æµªæ¼«çš„å¤œæ™šå³å°‡é–‹å§‹",
      "ðŸ½ï¸ æ™šé¤é¸å¥½äº†å—Žï¼Ÿä»Šæ™šæƒ³åƒä»€éº¼å‘¢",
      "âœ¨ è¯ç‡ˆåˆä¸Šï¼ŒåŸŽå¸‚è®Šå¾—æ›´æµªæ¼«äº†",
      "ðŸ¥‚ ç‚ºä»Šå¤©çš„ç¾Žå¥½ä¹¾ä¸€æ¯"
    ],
    night: [
      "ðŸ˜´ ä»Šå¤©è¾›è‹¦äº†ï¼Œå¥½å¥½ä¼‘æ¯ï¼Œæ˜Žå¤©ç¹¼çºŒå†’éšª",
      "ðŸ’¬ èººåœ¨åºŠä¸ŠèŠèŠä»Šå¤©æœ€é–‹å¿ƒçš„äº‹å§",
      "ðŸŒ™ æ™šå®‰ï¼Œåœ¨ç•°åœ‹çš„å¤œæ™šï¼Œæœ‰ä½ çœŸå¥½",
      "â­ æ•¸è‘—æ˜Ÿæ˜Ÿï¼Œæƒ³è‘—æˆ‘å€‘çš„æ•…äº‹",
      "ðŸ’¤ å¥½å¤¢ï¼Œå¤¢è£¡ä¹Ÿè¦ç‰½è‘—æ‰‹å–”"
    ]
  },

  // ç‰¹å®šæƒ…å¢ƒæé†’
  contextReminders: {
    flight: [
      "âœˆï¸ è¨˜å¾—å¸¶ä¸Šå½¼æ­¤çš„ç¬‘å®¹ï¼Œé€™æ˜¯æœ€å¥½çš„æ—…ä¼´",
      "ðŸ’º é•·é€”é£›è¡Œï¼Œè¨˜å¾—å¤šå–æ°´ã€å¤šèµ·ä¾†èµ°å‹•",
      "ðŸŽ¬ é£›æ©Ÿä¸Šå¯ä»¥ä¸€èµ·çœ‹é›»å½±ï¼Œé¸éƒ¨æµªæ¼«ç‰‡å§",
      "ðŸ˜Š ç‰½è‘—æ‰‹èµ·é£›ï¼Œé™è½åœ¨å¹¸ç¦çš„åœ‹åº¦",
      "ðŸ›« æº–å‚™å¥½äº†å—Žï¼Ÿå†’éšªå³å°‡é–‹å§‹ï¼"
    ],
    arrival: [
      "ðŸŽ‰ æ–°çš„åŸŽå¸‚ï¼Œæ–°çš„å›žæ†¶ï¼Œç‰½ç·Šå½¼æ­¤çš„æ‰‹å§",
      "ðŸŒ çµ‚æ–¼åˆ°äº†ï¼æ·±å‘¼å¸ï¼Œæ„Ÿå—é€™åº§åŸŽå¸‚çš„æ°£æ¯",
      "ðŸ§³ å…ˆåˆ¥æ€¥ï¼Œæ”¾å¥½è¡ŒæŽå†å‡ºç™¼æŽ¢éšª",
      "ðŸ“ æˆ‘å€‘åˆ°äº†ï¼åœ¨é€™è£¡å¯«ä¸‹æˆ‘å€‘çš„æ•…äº‹",
      "ðŸ™ï¸ é€™åº§åŸŽå¸‚åœ¨ç­‰æˆ‘å€‘åŽ»æŽ¢ç´¢"
    ],
    transit: [
      "ðŸ›ƒ è½‰æ©Ÿæ™‚é–“ï¼Œå¯ä»¥é€›é€›å…ç¨…åº—",
      "ðŸ’‘ è½‰æ©Ÿé›–ç„¶ç´¯ï¼Œä½†æœ‰å½¼æ­¤ç›¸ä¼´å°±ä¸å­¤å–®",
      "ðŸ“‹ è¨˜å¾—ç¢ºèªä¸‹ä¸€ç­ç™»æ©Ÿé–€",
      "ðŸœ æ‰¾é»žå¥½åƒçš„è£œå……èƒ½é‡",
      "ðŸ˜´ ç´¯äº†å°±é åœ¨æˆ‘è‚©è†€ä¸Šä¼‘æ¯"
    ],
    sightseeing: [
      "ðŸ‘€ ç”¨çœ¼ç›çœ‹ï¼Œç”¨å¿ƒæ„Ÿå—ï¼Œé€™äº›éƒ½æœƒè®Šæˆçè²´å›žæ†¶",
      "ðŸš¶ ä¸ç”¨è¶•ï¼Œæ…¢æ…¢èµ°ï¼Œé¢¨æ™¯æœƒç­‰ä½ å€‘çš„",
      "ðŸ“· ä»Šå¤©çš„ç…§ç‰‡ä¸€å®šå¾ˆç¾Žï¼Œå› ç‚ºæœ‰ä½ å€‘çš„ç¬‘å®¹",
      "ðŸŽ­ æ¯å€‹æ™¯é»žéƒ½æ˜¯æˆ‘å€‘æ„›æƒ…æ•…äº‹çš„ä¸€é ",
      "ðŸŒˆ ä¸€èµ·çœ‹éŽçš„é¢¨æ™¯ï¼Œæ˜¯æœ€æµªæ¼«çš„æ”¶è—"
    ],
    hotel: [
      "ðŸ¨ å›žåˆ°æº«æš–çš„æˆ¿é–“ï¼Œä»Šå¤©æ”¶ç©«æ»¿æ»¿å§",
      "ðŸ› æ³¡å€‹ç†±æ°´æ¾¡ï¼Œæ¶ˆé™¤ä¸€å¤©çš„ç–²å‹ž",
      "ðŸ“– æ˜Žå¤©çš„è¡Œç¨‹çœ‹éŽäº†å—Žï¼ŸæœŸå¾…ä¸€ä¸‹å§",
      "ðŸ›ï¸ èººåœ¨åºŠä¸Šï¼ŒèŠèŠä»Šå¤©çš„è¶£äº‹",
      "ðŸ’‘ æœ€å¹¸ç¦çš„äº‹ï¼Œæ˜¯å’Œä½ ä¸€èµ·çµæŸæ¯ä¸€å¤©"
    ]
  },

  // åŸŽå¸‚å°ˆå±¬æé†’
  cityReminders: {
    'æ–°åŠ å¡': [
      "ðŸ¦‹ æ¨Ÿå®œæ©Ÿå ´è¶…ç¾Žï¼Œåˆ¥å¿˜äº†çœ‹è´è¶åœ’å’Œé›¨æ¸¦",
      "ðŸŒ´ æ–°åŠ å¡é›–ç„¶åªæ˜¯ä¸­è½‰ï¼Œä¹Ÿæ˜¯æ—…ç¨‹çš„ä¸€éƒ¨åˆ†",
      "ðŸœ Geylangçš„å®µå¤œï¼Œæ˜¯ç•¶åœ°äººçš„æ·±å¤œé£Ÿå ‚",
      "ðŸ™ï¸ ç…åŸŽé›–å°ï¼Œå»æ˜¯æˆ‘å€‘èœœæœˆçš„èµ·é»žå’Œçµ‚é»ž",
      "ðŸŒƒ æ–°åŠ å¡çš„å¤œæ™¯ä¹Ÿå¾ˆè¿·äººå–”"
    ],
    'ç±³è˜­': [
      "ðŸ‚ åœ¨è‰¾æ›¼ç´äºŒä¸–æ‹±å»Šä¸‹è¨±å€‹é¡˜å§",
      "â›ª ç±³è˜­å¤§æ•™å ‚çš„æ—¥è½å¾ˆç¾Žï¼Œè¨˜å¾—æŠ¬é ­çœ‹",
      "ðŸ¹ ä¾†æ¯ Campariï¼Œå“åšç±³è˜­çš„å‘³é“",
      "ðŸ‘— æ™‚å°šä¹‹éƒ½ï¼Œæœ‰æ²’æœ‰çœ‹åˆ°ä»€éº¼æƒ³è²·çš„ï¼Ÿ",
      "ðŸŽ­ ç±³è˜­ä¸åªæœ‰æ™‚å°šï¼Œé‚„æœ‰è—è¡“èˆ‡æµªæ¼«"
    ],
    'ç¾…é¦¬': [
      "ðŸ’° åœ¨è¨±é¡˜æ± æŠ•ä¸‹ç¡¬å¹£ï¼Œé¡˜æœ›æœƒå¯¦ç¾çš„",
      "ðŸ›ï¸ ç¾…é¦¬ä¸æ˜¯ä¸€å¤©å»ºæˆçš„ï¼Œæ…¢æ…¢æ„Ÿå—å®ƒçš„æ­·å²",
      "ðŸ›¤ï¸ æ¢æ¢å¤§è·¯é€šç¾…é¦¬ï¼Œæ¯æ¢è·¯éƒ½æœ‰æ•…äº‹",
      "ðŸ¦ ä¾†ä»½ç¾©å¤§åˆ©å†°æ·‡æ·‹ï¼Œç”œèœœä¸€ä¸‹",
      "âš”ï¸ æƒ³åƒä¸€ä¸‹å¤ç¾…é¦¬çš„è¼ç…Œæ­²æœˆ"
    ],
    'ä½›ç¾…å€«æ–¯': [
      "ðŸ’‹ åœ¨è€æ©‹ä¸Šäº¤æ›ä¸€å€‹å»ï¼Œé€™æ˜¯ä½›ç¾…å€«æ–¯çš„å‚³çµ±",
      "ðŸŒ» æ‰˜æ–¯å¡å°¼çš„é™½å…‰ï¼Œæ˜¯å°ˆå±¬ä½ å€‘çš„é‡‘è‰²å›žæ†¶",
      "ðŸŽ¨ æ–‡è—å¾©èˆˆä¹‹åŸŽï¼Œæ¯å€‹è§’è½éƒ½æ˜¯è—è¡“",
      "ðŸ¥© ä¾†ä»½ä½›ç¾…å€«æ–¯ç‰›æŽ’ï¼Œé€™æ˜¯å¿…åƒçš„ï¼",
      "ðŸŒ¸ ç™¾èŠ±å¤§æ•™å ‚å‰ï¼Œè¨±ä¸‹æ°¸æ†çš„èª“è¨€"
    ],
    'å¨å°¼æ–¯': [
      "ðŸŒŠ åœ¨æ°´éƒ½è¨±ä¸‹å±¬æ–¼ä½ å€‘çš„é¡˜æœ›",
      "ðŸ—ºï¸ è¿·è·¯æ˜¯å¨å°¼æ–¯æœ€æµªæ¼«çš„äº‹",
      "ðŸ’‹ è²¢å¤šæ‹‰ä¸Šçš„è¦ªå»ï¼Œæ˜¯å¨å°¼æ–¯çš„æ¨™é…",
      "ðŸªž æ°´å··è£¡çš„å€’å½±ï¼Œæ˜ ç…§è‘—ä½ å€‘çš„å¹¸ç¦",
      "ðŸŽ­ è²·å€‹å¨å°¼æ–¯é¢å…·ç•¶ç´€å¿µå§",
      "ðŸ’Œ å¯«ä¸€å¼µæ˜Žä¿¡ç‰‡ï¼Œå¯„çµ¦æœªä¾†çš„è‡ªå·±"
    ],
    'è˜‡é»Žä¸–': [
      "ðŸ« ç‘žå£«çš„ç©ºæ°£éƒ½æ˜¯ç”œçš„ï¼Œæ·±å‘¼å¸",
      "ðŸ’• åœ¨é˜¿çˆ¾å‘æ–¯å±±å‰å¤§å–Šæˆ‘æ„›ä½ ï¼",
      "ðŸ§€ å·§å…‹åŠ›å’Œèµ·å¸ï¼Œæ˜¯ç‘žå£«çµ¦ä½ å€‘çš„ç¦®ç‰©",
      "ðŸ”ï¸ æ¹–å…‰å±±è‰²é–“ï¼Œæ”œæ‰‹èµ°éŽæœ€ç¾Žçš„é¢¨æ™¯",
      "â›·ï¸ é›ªå±±é…ç†±å·§å…‹åŠ›ï¼Œå®Œç¾Žçµ„åˆ",
      "ðŸš‚ åç«è»Šç©¿è¶Šç‘žå£«ï¼Œæ¯ä¸€å¹•éƒ½æ˜¯æ˜Žä¿¡ç‰‡"
    ]
  },

  // ç‰¹æ®Šæ—¥æœŸæé†’
  specialReminders: {
    1: "ðŸŽ‰ ç¬¬ä¸€å¤©ï¼èœœæœˆæ—…è¡Œæ­£å¼é–‹å§‹ï¼Œèˆˆå¥®å—Žï¼Ÿ",
    2: "âœˆï¸ æ­æ´²æˆ‘å€‘ä¾†äº†ï¼ç¾©å¤§åˆ©åœ¨å‘æˆ‘å€‘æ‹›æ‰‹",
    3: "ðŸ›ï¸ ç¾…é¦¬å‡æœŸé–‹å§‹ï¼ç•¶ä¸€å¤©å¥§é»›éº—ä¹™ä¹™èµ«æœ¬å§",
    4: "âš”ï¸ ä»Šå¤©æ˜¯ç¾…é¦¬æ·±åº¦æ—¥ï¼Œæ„Ÿå—åƒå¹´æ­·å²",
    5: "ðŸŒ» å‰å¾€æ‰˜æ–¯å¡å°¼ï¼Œä½›ç¾…å€«æ–¯ç­‰è‘—æˆ‘å€‘",
    6: "ðŸŒŠ å¨å°¼æ–¯ï¼æº–å‚™å¥½è¿·å¤±åœ¨æ°´å··ä¸­äº†å—Ž",
    7: "ðŸ›¶ ä¸€é€±äº†ï¼ä½ å€‘å·²ç¶“å‰µé€ äº†å¤šå°‘ç¾Žå¥½å›žæ†¶ï¼Ÿ",
    8: "ðŸï¸ æ—…ç¨‹éŽåŠï¼Œæœ€ç²¾å½©çš„é‚„åœ¨å¾Œé¢",
    9: "ðŸ”ï¸ è·¨è¶Šåœ‹å¢ƒï¼Œç‘žå£«å†’éšªå³å°‡é–‹å§‹",
    10: "â›°ï¸ é˜¿çˆ¾å‘æ–¯å±±æ—¥ï¼æº–å‚™å¥½è¢«éœ‡æ’¼äº†å—Ž",
    11: "ðŸŒ„ ç‘žå£«çš„ç¾Žï¼Œæ€Žéº¼çœ‹éƒ½çœ‹ä¸è†©",
    12: "ðŸ« ç‘žå£«æŽ¢ç´¢ç¹¼çºŒï¼Œåˆ¥å¿˜äº†è²·å·§å…‹åŠ›",
    13: "ðŸ™ï¸ è˜‡é»Žä¸–æ¼«æ­¥ï¼Œå¥½å¥½äº«å—æœ€å¾Œçš„æ™‚å…‰",
    14: "ðŸ‘‹ å³å°‡å‘Šåˆ¥æ­æ´²ï¼ŒæŠŠç¾Žå¥½éƒ½æ‰“åŒ…å¸¶èµ°å§",
    15: "ðŸ‡¸ðŸ‡¬ æ–°åŠ å¡æœ€å¾Œä¸€å¤œï¼Œåƒé “å¥½çš„æ…¶ç¥",
    16: "ðŸ  æœ€å¾Œä¸€å¤©ï¼Œä½†é€™åªæ˜¯å¹¸ç¦ç”Ÿæ´»çš„é–‹å§‹ ðŸ’•"
  },

  // å¤©æ°£ç›¸é—œæé†’
  weatherReminders: {
    cold: [
      "ðŸ§£ å¤–é¢å¾ˆå†·ï¼Œè¨˜å¾—ç©¿æš–å’Œä¸€é»ž",
      "ðŸ§¤ æ‰‹å¥—åœå·¾å¸¶äº†å—Žï¼Ÿåˆ¥è®“å¯¶è²çš„æ‰‹å‡è‘—",
      "ðŸ¤ å†·çš„æ™‚å€™ï¼Œç‰½æ‰‹å–æš–æ˜¯æœ€æµªæ¼«çš„",
      "â˜• æ‰¾é–“å’–å•¡å»³æš–æš–èº«å­å§"
    ],
    rain: [
      "â˜” å¸¶æŠŠå‚˜ï¼Œé›¨ä¸­æ¼«æ­¥ä¹Ÿå¾ˆæµªæ¼«",
      "ðŸŒ§ï¸ ä¸‹é›¨å¤©ï¼Œæ‰¾é–“å’–å•¡å»³èº²é›¨å§",
      "ðŸŒˆ é›¨å¾Œçš„åŸŽå¸‚åˆ¥æœ‰ä¸€ç•ªé¢¨å‘³",
      "ðŸ’‘ é›¨å¤©ä¸€èµ·æ’å‚˜ï¼Œæ„Ÿè¦ºæ›´è¦ªè¿‘äº†"
    ]
  },

  // ç”¨é¤æé†’
  mealReminders: [
    "ðŸ ç¾©å¤§åˆ©éºµè¦è¶ç†±åƒå–”ï¼",
    "ðŸ• æŠ«è–©é…å•¤é…’ï¼Œå®Œç¾Žæ­é…",
    "ðŸ¥‚ Cin cinï¼ä¹¾æ¯ï¼",
    "ðŸ° ç”œé»žæ˜¯å¦ä¸€å€‹èƒƒï¼Œä¸€å®šåƒå¾—ä¸‹",
    "â˜• ç¾©å¤§åˆ©å’–å•¡è¦ç«™è‘—å–æ‰é“åœ°",
    "ðŸ§€ èµ·å¸ç«é‹è¦æ”ªæ‹Œ8å­—å½¢å–”"
  ],

  // æ‹ç…§æé†’
  photoReminders: [
    "ðŸ“¸ é€™å€‹è§’åº¦æ‹èµ·ä¾†ä¸€å®šå¾ˆç¾Žï¼",
    "ðŸ¤³ ä¾†å¼µè‡ªæ‹å§ï¼Œè¨˜éŒ„æ­¤åˆ»çš„å¹¸ç¦",
    "ðŸ“· å¹«å°æ–¹æ‹å¼µç¨ç…§ï¼Œä½ çœ¼ä¸­çš„Taæœ€ç¾Ž",
    "ðŸŽ¬ éŒ„ä¸€æ®µå½±ç‰‡ï¼Œè¨˜éŒ„ç¾å ´çš„è²éŸ³å’Œæ°›åœ",
    "ðŸ’‘ è«‹è·¯äººå¹«å¿™æ‹å¼µåˆç…§å§"
  ]
};

// æé†’ç³»çµ±
const ReminderSystem = {
  // ç²å–ç•¶å‰æ™‚æ®µ
  getCurrentPeriod() {
    const hour = new Date().getHours();
    if (hour >= 5 && hour < 11) return 'morning';
    if (hour >= 11 && hour < 14) return 'noon';
    if (hour >= 14 && hour < 17) return 'afternoon';
    if (hour >= 17 && hour < 20) return 'evening';
    return 'night';
  },

  // éš¨æ©Ÿé¸æ“‡ä¸€å€‹æé†’
  getRandomReminder(array) {
    if (!array || array.length === 0) return null;
    return array[Math.floor(Math.random() * array.length)];
  },

  // ç²å–æ™‚æ®µæé†’
  getTimeReminder() {
    const period = this.getCurrentPeriod();
    return this.getRandomReminder(REMINDERS.timeBasedReminders[period]);
  },

  // ç²å–åŸŽå¸‚æé†’
  getCityReminder(city) {
    if (!city) return null;
    const reminders = REMINDERS.cityReminders[city];
    return this.getRandomReminder(reminders);
  },

  // ç²å–æƒ…å¢ƒæé†’
  getContextReminder(context) {
    if (!context) return null;
    const reminders = REMINDERS.contextReminders[context];
    return this.getRandomReminder(reminders);
  },

  // ç²å–ç‰¹æ®Šæ—¥æœŸæé†’
  getSpecialReminder(dayNumber) {
    return REMINDERS.specialReminders[dayNumber] || null;
  },

  // ç²å–ç”¨é¤æé†’
  getMealReminder() {
    return this.getRandomReminder(REMINDERS.mealReminders);
  },

  // ç²å–æ‹ç…§æé†’
  getPhotoReminder() {
    return this.getRandomReminder(REMINDERS.photoReminders);
  },

  // ç²å–ä»Šæ—¥æé†’ï¼ˆç¶œåˆï¼‰
  getTodayReminder(dayNumber, city, context) {
    // å„ªå…ˆç´šï¼šç‰¹æ®Šæ—¥æœŸ > åŸŽå¸‚ > æƒ…å¢ƒ > æ™‚æ®µ
    let reminder = this.getSpecialReminder(dayNumber);
    if (reminder) return { text: reminder, type: 'special' };

    reminder = this.getCityReminder(city);
    if (reminder) return { text: reminder, type: 'city' };

    reminder = this.getContextReminder(context);
    if (reminder) return { text: reminder, type: 'context' };

    reminder = this.getTimeReminder();
    return { text: reminder, type: 'time' };
  },

  // ç²å–å¤šå€‹æé†’ï¼ˆç”¨æ–¼è¼ªæ’­æˆ–åˆ—è¡¨ï¼‰
  getMultipleReminders(dayNumber, city, context, count = 3) {
    const reminders = [];

    // æ·»åŠ ç‰¹æ®Šæ—¥æœŸæé†’
    const special = this.getSpecialReminder(dayNumber);
    if (special) reminders.push({ text: special, type: 'special' });

    // æ·»åŠ åŸŽå¸‚æé†’
    const cityReminders = REMINDERS.cityReminders[city] || [];
    cityReminders.forEach(r => reminders.push({ text: r, type: 'city' }));

    // æ·»åŠ æƒ…å¢ƒæé†’
    const contextReminders = REMINDERS.contextReminders[context] || [];
    contextReminders.forEach(r => reminders.push({ text: r, type: 'context' }));

    // æ·»åŠ æ™‚æ®µæé†’
    const period = this.getCurrentPeriod();
    const timeReminders = REMINDERS.timeBasedReminders[period] || [];
    timeReminders.forEach(r => reminders.push({ text: r, type: 'time' }));

    // éš¨æ©Ÿæ‰“äº‚ä¸¦è¿”å›žæŒ‡å®šæ•¸é‡
    return reminders.sort(() => Math.random() - 0.5).slice(0, count);
  },

  // ç²å–è‡ªè¨‚æé†’ï¼ˆå¾žlocalStorageï¼‰
  getCustomReminders() {
    const saved = localStorage.getItem('honeymoon_custom_reminders');
    return saved ? JSON.parse(saved) : [];
  },

  // æ·»åŠ è‡ªè¨‚æé†’
  addCustomReminder(text, dayNumber = null) {
    const reminders = this.getCustomReminders();
    reminders.push({
      id: Date.now(),
      text: text,
      day: dayNumber,
      createdAt: new Date().toISOString()
    });
    localStorage.setItem('honeymoon_custom_reminders', JSON.stringify(reminders));
    return reminders;
  },

  // åˆªé™¤è‡ªè¨‚æé†’
  deleteCustomReminder(id) {
    let reminders = this.getCustomReminders();
    reminders = reminders.filter(r => r.id !== id);
    localStorage.setItem('honeymoon_custom_reminders', JSON.stringify(reminders));
    return reminders;
  }
};

// å°Žå‡º
if (typeof module !== 'undefined' && module.exports) {
  module.exports = { REMINDERS, ReminderSystem };
}
